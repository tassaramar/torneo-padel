<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Torneo de Padel - Fixture</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="/style.css" />
</head>

<body>
  <!-- NAV -->
  <div class="topnav">
    <a class="topnav-link" href="/">ğŸ‘¤ Mis Partidos</a>
    <a class="topnav-link" href="/general">ğŸ‘€ Todos los Resultados</a>
    <a class="topnav-link" href="/fixture">ğŸ“‹ Fixture</a>
    <a class="topnav-link" href="/admin">ğŸ›  Admin</a>
  </div>

  <div class="fixture-container">
    <!-- Header -->
    <div class="fixture-header">
      <h1 class="fixture-title">Fixture Completo</h1>
      <div class="fixture-subtitle">Torneo de Padel</div>
      <div id="fixture-status" class="fixture-status"></div>
    </div>

    <!-- Tabs para alternar vistas (Cola por defecto) -->
    <div class="fixture-tabs">
      <button class="fixture-tab is-active" data-vista="cola" onclick="window.cambiarVista('cola')">
        Cola por orden sugerido
      </button>
      <button class="fixture-tab" data-vista="tabla" onclick="window.cambiarVista('tabla')">
        Tabla por grupos
      </button>
    </div>

    <!-- Leyenda (solo desktop) -->
    <div class="fixture-legend fixture-legend-desktop">
      <span class="legend-item">
        <span class="legend-badge badge-jugado">âœ…</span> Jugado
      </span>
      <span class="legend-item">
        <span class="legend-badge badge-pendiente">â³</span> Pendiente
      </span>
      <span class="legend-item">
        <span class="legend-badge badge-fecha-libre">â˜•</span> Fecha libre
      </span>
    </div>

    <!-- Buscador (solo vista cola) -->
    <div id="fixture-cola-search" class="fixture-cola-search" style="display: none;">
      <input
        id="fixture-search-input"
        class="fixture-search-input"
        type="text"
        autocomplete="off"
        inputmode="search"
        placeholder="Buscar jugador o grupoâ€¦"
      />
      <button id="fixture-search-clear" class="fixture-search-clear" type="button" aria-label="Limpiar bÃºsqueda">âœ–</button>
    </div>

    <!-- Grid de fixture -->
    <div id="fixture-grid" class="fixture-grid">
      <!-- Se inyecta dinÃ¡micamente -->
    </div>
  </div>

  <script type="module" src="/src/fixture.js"></script>
  
  <script>
    // Marcar link activo en nav
    (function () {
      const path = (location.pathname.endsWith('/') ? location.pathname : location.pathname + '/');
      document.querySelectorAll('.topnav-link').forEach(a => {
        const href = a.getAttribute('href');
        const norm = (href.endsWith('/') ? href : href + '/');
        if (norm === path) a.classList.add('is-active');
      });
    })();
  </script>
</body>
</html>
